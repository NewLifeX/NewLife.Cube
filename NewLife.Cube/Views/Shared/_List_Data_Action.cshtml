@{
    var entity = Model as IEntity;

    var rv = entity.GetRouteKey();
    var deleteid = entity["ID"] + "";
}
@if (this.Has(PermissionFlags.Update))
{
    <a title="编辑" href="@Url.Action("Edit", rv)" class="editcell">
        <i class="fa fa-pencil" style="color:#1c84c6;font-size:16px;padding:0px 5px 0px 0px;"></i>
    </a>
}
else if (this.Has(PermissionFlags.Detail))
{
    <a title="详细" href="@Url.Action("Detail", rv)" class="editcell">
        <i class="fa fa-bars" style="color:#1ab394;font-size:16px;padding:0px 5px 0px 5px;"></i>
    </a>
}
@if (this.Has(PermissionFlags.Delete))
{
    var fact = ViewBag.Factory as IEntityOperate;
    var fi = (fact == null || fact.Fields == null) ? null : fact.Fields.FirstOrDefault(e => e.Name.EqualIgnoreCase("Deleted", "IsDelete", "IsDeleted"));
    if (fi != null && fi.Type == typeof(Boolean) && (Boolean)entity[fi.Name])
    {
        <i class="glyphicon glyphicon-transfer" style="color: green;"></i>
        <a href="@Url.Action("Delete", rv)" data-action="action" data-confirm="确认恢复？">恢复</a>
    }
    else
    {
        <input type="hidden" id="delete_@deleteid" value="@Url.Action("Delete", rv)" />
        <a href="#" title="删除" onclick="DeleteList('@deleteid')">
            <i class="fa fa-trash" style="color:red;font-size:16px;padding:0px 0px 0px 5px;"></i>
        </a>
    }
}